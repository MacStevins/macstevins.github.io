<html>
	<body>
		<script src="/js/jquery-3.6.0.min.js"></script>
		<script>
			function main() {
				var url = new URLSearchParams(window.location.search).get("url");
				
				if(url === null) {
					
					$(document.body).append("Empty 'url' parameter");
					return;
				
				}
				
				$.ajax({
					url: url,
					type: "GET",
					dataType: "jsonp",
					crossDomain: true,
					success: function (data) {
						data = data.split(/\r?\n/);
						data = data[Math.floor((Math.random() * data.length))]
						$(document.body).append(data);
					},
					error: function (xhr, status, error) {
						$(document.body).append("Failed to get data. " + status + ": " + xhr.responseText);
					},
					headers: {
						accept: "text/plain",
						"Access-Control-Allow-Origin": "*"
					}
				});
			}
			
			main();
		</script>
	</body>
</html>